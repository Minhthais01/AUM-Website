<main>
  <div class="container-xl px-4 mt-4">
    <hr class="mt-0 mb-4">
    <div class="row" *ngIf="userProfile">
      <div class="col-xl-4">
        <!-- Profile picture card-->
        <div class="card mb-4 mb-xl-0">
          <div class="card-header">Avatar</div>
          <div class="card-body text-center" style="height: 325px;">
            <!-- Profile picture image-->
            <img id="images" style="border-radius: unset; width: 60%; height: 60%;"
              class="img-account-profile rounded-circle mb-2" [src]="imageUrl" alt="Avata">
            <input type="file" (change)="onFileSelected($event)" style="margin-top: 55px;">
          </div>
        </div>
      </div>
      <div class="col-xl-8">
        <!-- Account details card-->
        <div class="card mb-4">
          <div class="card-header">Detail</div>
          <div class="card-body">
            <form [formGroup]="profileForm">
              <!-- Form Row-->
              <div class="row gx-3 mb-3">
                <div class="col-md-6">
                  <label class="small mb-1" for="inputUsername">User Name</label>
                  <input formControlName="user_username" class="form-control" id="user_username" type="text"
                    style="color: black;">
                  <small
                    *ngIf="profileForm.controls['user_username'].dirty && profileForm.hasError('required', 'user_username')"
                    class="text-danger">*Username is required</small>
                </div>
                <div class="col-md-6">
                  <label class="small mb-1" for="inputOrgName">Email</label>
                  <input formControlName="user_email" class="form-control" id="inputOrgName" type="text"
                    style="color: black;">
                  <small
                    *ngIf="profileForm.controls['user_email'].dirty && profileForm.hasError('required', 'user_email')"
                    class="text-danger">*Email is required</small>
                </div>
                <div class="col-md-6">
                  <label class="small mb-1" for="inputOrgName">Facculty</label>
                  <select (change)="onSelectFaculty($event)" formControllName="user_faculty" id="select-option"
                    class="form-select" aria-label="Default select example"
                    style="width: 335px; height: 50px; border: 1px solid #ccc;">
                    <option *ngFor="let f of lstFaculties" [value]="f.faculty_id"
                      [selected]="f.faculty_id === userProfile.user_faculty_id">{{f.faculty_name}}</option>
                  </select>
                  <small
                    *ngIf="profileForm.controls['user_faculty'].dirty && profileForm.hasError('required', 'user_faculty')"
                    class="text-danger">*Faculty is required</small>
                </div>
                <div class="col-md-6">
                  <label class="small mb-1" for="inputOrgName">Role</label>
                  <select (change)="onSelectRole($event)" formControllName="user_role" id="select-option"
                    class="form-select" aria-label="Default select example"
                    style="width: 335px; height: 50px; border: 1px solid #ccc;">
                    <option *ngFor="let r of lstRoles" [value]="r.role_id"
                      [selected]="r.role_id === userProfile.user_role_id">{{r.role_name}}</option>
                  </select>
                  <small
                    *ngIf="profileForm.controls['user_role'].dirty && profileForm.hasError('required', 'user_role')"
                    class="text-danger">*Role is required</small>
                </div>
                <div class="col-md-6">
                  <label class="small mb-1" for="inputOrgName" style="margin-right: 30px; margin-top: 30px;">Status: </label>
                  <input type="radio" id="lock" name="status" value="Lock" formControlName="user_status"
                    [checked]="userProfile.user_status === 'Lock'">
                  <label for="lock" style="margin-right: 30px;">Lock</label>
                  <input type="radio" id="unlock" name="status" value="Unlock" formControlName="user_status"
                    [checked]="userProfile.user_status === 'Unlock'">
                  <label for="unlock">Unlock</label>
                </div>
              </div>
              <button style="margin-top: 10px;" class="btn btn-primary" type="submit" (click)="onClick()">Save</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
